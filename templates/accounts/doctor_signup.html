{% extends "base.html" %} 
{% load static %}

{% block content %}
<div class="section-spacing">
  <div class="app-container">
    <div style="max-width: 32rem; margin: 0 auto;">
      <div class="card glass auth-card" style="padding: 2.5rem;">
        <div style="text-align: center; margin-bottom: 2rem;">
          <div class="icon-container-large" style="margin: 0 auto 1rem; background: linear-gradient(135deg, hsl(var(--primary) / 0.1), hsl(var(--accent) / 0.1));">
            <i class="fas fa-user-md"></i>
          </div>
          <h2 class="h2 mb-2">Doctor Registration</h2>
          <p class="small">Join MediCare as a healthcare provider</p>
        </div>
        
        <form method="post">
          {% csrf_token %} 
          
          {% if form.non_field_errors %}
          <div class="notification notification-error" style="display: flex; align-items: start; gap: 0.75rem; margin-bottom: 1.5rem;">
            <i class="fas fa-exclamation-circle"></i>
            <div>{{ form.non_field_errors }}</div>
          </div>
          {% endif %}
          
          {% for field in form %}
          <div class="field" style="margin-top: 1.25rem;">
            <label class="label-text" style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem;">
              {% if 'first_name' in field.name %}
                <i class="fas fa-user" style="color: hsl(var(--primary));"></i>
              {% elif 'last_name' in field.name %}
                <i class="fas fa-user" style="color: hsl(var(--primary));"></i>
              {% elif 'email' in field.name %}
                <i class="fas fa-envelope" style="color: hsl(var(--primary));"></i>
              {% elif 'username' in field.name %}
                <i class="fas fa-at" style="color: hsl(var(--primary));"></i>
              {% elif 'password' in field.name %}
                <i class="fas fa-lock" style="color: hsl(var(--primary));"></i>
              {% else %}
                <i class="fas fa-edit" style="color: hsl(var(--primary));"></i>
              {% endif %}
              {{ field.label }}
            </label>
            {% if field.field.widget.input_type == 'password' %}
              <input type="password" name="{{ field.name }}" id="{{ field.id_for_label }}" class="input" value="{{ field.value|default:'' }}" placeholder="Enter your {{ field.label|lower }}" {% if field.field.required %}required{% endif %} />
            {% elif field.field.widget.input_type == 'email' %}
              <input type="email" name="{{ field.name }}" id="{{ field.id_for_label }}" class="input" value="{{ field.value|default:'' }}" placeholder="Enter your {{ field.label|lower }}" {% if field.field.required %}required{% endif %} />
            {% elif field.field.widget.input_type == 'text' %}
              <input type="text" name="{{ field.name }}" id="{{ field.id_for_label }}" class="input" value="{{ field.value|default:'' }}" placeholder="Enter your {{ field.label|lower }}" {% if field.field.required %}required{% endif %} />
            {% else %}
              {{ field }}
            {% endif %}
            {% if field.errors %}
            <p style="color: hsl(var(--destructive)); font-size: 0.875rem; margin-top: 0.5rem; display: flex; align-items: center; gap: 0.5rem;">
              <i class="fas fa-exclamation-circle"></i>
              {{ field.errors|striptags }}
            </p>
            {% endif %}
            {% if field.help_text %}
            <p class="small" style="margin-top: 0.5rem; color: hsl(var(--muted-foreground));">
              <i class="fas fa-info-circle" style="margin-right: 0.25rem;"></i>
              {{ field.help_text }}
            </p>
            {% endif %}
          </div>
          {% endfor %}
          
          <div class="field" style="margin-top: 2rem;">
            <button class="button button-primary" type="submit" style="width: 100%; justify-content: center; gap: 0.5rem;">
              <i class="fas fa-user-plus"></i>
              Create Doctor Account
            </button>
          </div>
        </form>
        
        <div style="margin-top: 2rem; padding-top: 2rem; border-top: 1px solid hsl(var(--border)); text-align: center;">
          <p class="small" style="color: hsl(var(--muted-foreground));">
            Already have an account? <a href="{% url 'accounts:login' %}" style="color: hsl(var(--primary)); font-weight: 500;">Login here</a>
          </p>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
